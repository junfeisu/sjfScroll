!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.SjfScroll=e()}}(function(){return function(){function e(o,t,n){function r(l,c){if(!t[l]){if(!o[l]){var s="function"==typeof require&&require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var a=t[l]={exports:{}};o[l][0].call(a.exports,function(e){var t=o[l][1][e];return r(t?t:e)},a,a.exports,e,o,t,n)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)r(n[l]);return r}return e}()({1:[function(e,o,t){"use strict"},{}],2:[function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=e("./utils"),i=n(r),l={delay:500,gradient:10,minHeight:30},c=null,s={},u=function(){var e=document.querySelector("head"),o=document.createElement("link");o.href="http://7xrp7o.com1.z0.glb.clouddn.com/sjf-scroll.css",o.rel="stylesheet",o.type="text/css",e.appendChild(o)},a=function(e){return{body:e.querySelector(".sjf-scroll-body"),bg:e.querySelector(".sjf-scroll-bg"),content:e.querySelector(".sjf-scroll-content"),self:e}},f=function(e){return{bodyHeight:e.querySelector(".sjf-scroll-body").offsetHeight,bgHeight:e.querySelector(".sjf-scroll-bg").offsetHeight,contentHeight:e.querySelector(".sjf-scroll-content").offsetHeight,selfHeight:e.offsetHeight}},d=function(e){i["default"].isObject(e)?i["default"].observe(e):console.warn("sjf-scroll:[warn] the param is not a object")},p=function(e){if(!i["default"].isObject(e))return void console.error("sjf-scroll:[error] options must be a object but "+JSON.stringify(e)+" is not a object");for(var o in e)l.hasOwnProperty(o)?l[o]=e[o]:console.warn("sjf-scroll:[warn] sjf-scroll do not support the configuration item of "+o)},y=function(){var e=document.querySelectorAll("[sjf-scroll]");0!==e.length?Array.prototype.forEach.call(e,function(e){var o=e.getAttribute("max-height");null!==o?+o<150?console.warn("sjf-scroll:[warn] the value of max-height best is >= 150"):"":o=150,g(e,o)}):console.error('At least need a .sjf-scroll in your dom for example:<div class="sjf-scroll"></div>')},g=function(e,o){var t=e.innerHTML,n=e.cloneNode(!0);e.parentElement.insertBefore(n,e),e.classList.add("hide-old"),t='<div class="sjf-scroll-wrapper"><div class="sjf-scroll-body">'+t+'</div><div class="sjf-scroll-bg"><span class="sjf-scroll-content"></span></div></div>',n.innerHTML=t,v(n,o),h(e,o)},v=function(e,o){var t=e.querySelector(".sjf-scroll-wrapper"),n=e.querySelector(".sjf-scroll-bg"),r=e.querySelector(".sjf-scroll-content"),i=e.querySelector(".sjf-scroll-body"),c=i.offsetHeight||i.clientHeight;c>o?(n.style.display="block",b(e)):(n.style.display="none",w(e)),t.style.height=o+"px",n.style.height=o+"px";var s=o*o/c;s=s>l.minHeight?s:l.minHeight,r.style.height=s+"px"},h=function(e,o){var t=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,n={childList:!0,subtree:!0},r=new t(function(t){m(e,o)});r.observe(e,n)},b=function(e){var o=e.querySelector(".sjf-scroll-wrapper"),t=e.querySelector(".sjf-scroll-bg"),n=e.querySelector(".sjf-scroll-content"),r=!0;o.onmouseover=function(o){var t=this;if(r){var n=this.getAttribute("position");s=null!==n?JSON.parse(this.getAttribute("position")):{cTop:0,oTop:0,oldClientY:0},r=!1}var l=o||window.event;i["default"].debounce(function(){x.wheel(e,l),x.keydown(e,l)})(),this.onmouseleave=function(){t.setAttribute("position",JSON.stringify(s)),r=!0}},t.onclick=function(o){x.click(e,o)},n.onclick=function(e){var o=e||window.event;return o.stopPropagation?o.stopPropagation():window.cancelBubble=!1,!1},n.onmousedown=function(o){x.down(e,o)}},w=function(e){var o=e.querySelector(".sjf-scroll-wrapper"),t=e.querySelector(".sjf-scroll-bg"),n=e.querySelector(".sjf-scroll-content");o.onmouseover=null,t.onclick=null,n.onclick=null,n.onmousedown=null,e.onmousewheel=null,e.removeEventListener("DOMMouseScroll",function(e){O(relative,e,!0)},!1)},m=function(e,o){var t=e.previousElementSibling,n=t.querySelector(".sjf-scroll-body");n.innerHTML=e.innerHTML,v(t,o)},j=function(e,o){var t=o||window.event,n=f(e.self),r=t.clientY-s.oldClientY;r=H(r,n),s.cTop+=r,s.oTop-=r*(n.bodyHeight/n.selfHeight),e.content.style.top=s.cTop+"px",e.body.style.top=s.oTop+"px",s.oldClientY=t.clientY},H=function(e,o){return e<=-s.cTop?e=-s.cTop:e>=o.bgHeight-o.contentHeight-s.cTop&&(e=o.bgHeight-o.contentHeight-s.cTop),e},T=function(e){"undefined"==typeof e?console.error("the sjfScroll.scrollTo needs a param {spot: , relativeDom}"):e.hasOwnProperty("spot")&&e.hasOwnProperty("relativeDom")?function(){var o=e.spot-e.relativeDom.self.offsetTop,t=f(e.relativeDom.self);S(o,t),e.relativeDom.body.style.top=s.oTop+"px",e.relativeDom.content.style.top=s.cTop+"px"}():console.error("param has a attribtue[spot] to set the designated spotparam has a attribte[relativeDom] to set the relative dom element")},S=function(e,o){var t=o.bgHeight-o.contentHeight,n=o.bodyHeight-o.selfHeight,r=o.bgHeight-o.contentHeight/2;e>=o.contentHeight/2&&e<=r?(s.cTop=e-o.contentHeight/2,s.oTop=-(e-o.contentHeight/2)*(o.bodyHeight/o.selfHeight)):e<o.contentHeight/2?(s.cTop=0,s.oTop=0):e>r&&(s.cTop=t,s.oTop=-n)},O=function(e,o,t){var n=o||window.event;n.stopPropagation?n.stopPropagation():n.cancelBubble=!0,n.preventDefault?n.preventDefault():n.returnValue=!1;var r=f(e.self),i="down";if("boolean"==typeof t){var c=t?-n.detail:n.wheelDelta;i=c<=0?"down":"up"}else i=38===t?"up":"down";var u=r.bgHeight-r.contentHeight-l.gradient,a=l.gradient*(r.bodyHeight/r.selfHeight),d={down:{cGradient:l.gradient,oGradient:-a,boundaryCondition:u,cBoundary:r.bgHeight-r.contentHeight,oBoundary:-(r.bodyHeight-r.selfHeight)},up:{cGradient:-l.gradient,oGradient:a,boundaryCondition:l.gradient,cBoundary:0,oBoundary:0}};q(i,d)||(s.oTop+=d[i].oGradient,s.cTop+=d[i].cGradient),e.body.style.top=s.oTop+"px",e.content.style.top=s.cTop+"px"},q=function(e,o){var t=!1;return"down"===e?s.cTop>=o.down.boundaryCondition&&(s.cTop=o.down.cBoundary,s.oTop=o.down.oBoundary,t=!0,c&&"function"==typeof M&&c()):s.cTop<=o.up.boundaryCondition&&(s.cTop=o.up.cBoundary,s.oTop=o.up.oBoundary,t=!0),t},x={click:function(e,o){var t=o||window.event,n=a(e),r=t.clientY+document.body.scrollTop;T({spot:r,relativeDom:n})},down:function(e,o){var o=o||window.event,t=a(e),n=o.clientY-t.bg.scrollTop;s.oldClientY=n,document.onmousemove=function(e){x.move(t,e)},document.onmouseup=function(){x.up()}},move:function(e,o){j(e,o)},keydown:function(e){document.onkeydown=function(o){var t=window.event||o,n=a(e);38!==t.keyCode&&40!==t.keyCode||O(n,t,t.keyCode)}},up:function(){document.onmousemove=null,document.onmouseup=null},wheel:function(e,o){var t=(o||window.event,a(e));navigator.userAgent.toLowerCase().indexOf("firefox")<0?e.onmousewheel=function(e){O(t,e,!1)}:e.addEventListener("DOMMouseScroll",function(e){O(t,e,!0)})}},k=function(){d(l),u(),y()},M=function(e){e?c=e:console.warn("sjf-scroll:[warn] the sjfScroll.scroll need a argument to as callback function but find none")};o.exports={initScroll:k,setOptions:p,scrollTo:T,scroll:M}},{"./utils":3}],3:[function(e,o,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=e("./options"),i=n(r),l={isObject:function(e){var o=!0;return"[object Object]"===Object.prototype.toString.call(e)?"":o=!1,o},debounce:function(e){var o;return function(){var t=this,n=arguments;clearTimeout(o),o=setTimeout(function(){e.apply(t,n)},i["default"].delay)}},observe:function(e){function o(o){return e.apply(this,arguments)}return o.toString=function(){return e.toString()},o}(function(e){Object.keys(e).forEach(function(o,t){var n=e[o];Object.defineProperty(e,o,{get:function(){return n},set:function(o){e.key=o}.bind(this)}),"[object Object]"===Object.prototype.toString.call(e[o])&&observe(e[o])},this)})};t["default"]=l},{"./options":1}]},{},[2])(2)});